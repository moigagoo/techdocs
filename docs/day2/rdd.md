# Ридми и readme-driven development

## Ридми

Ридми — первое, что видит пользователь. Это лицо проекта, точка входа, а если он вышел плохим — то и выхода. Хорошие ридми надо писать и для внутренних проектов, но для опенсорса они просто необходимы. Если в компании ещё можно расспросить коллег, то в интернете репку просто пропустят.

Ридми — это текстовый файл в корне проекта. Почти всегда он пишется на английском и в Маркдауне. Ридми должен сразу ответить на вопросы о проекте:

-   Как называется?
-   Что делает?
-   Как пользоваться?
-   Что делать дальше?

**Название** — это заголовок первого уровня. Поставьте его на самом верху:

>   # Poetry

!!! tip
    Придумывание названия — [отдельная непростая история](https://youtu.be/RFfpkrbkvxc). Если бы мне надо было дать один совет по придумыванию названий, я бы сказал так: сначала придумайте принцип именования всех вещей и именуйте их консистентно. Например, у нас в команде инструменты называются суффиксом man: statman, superclusterman, invalidman.

**Что делает** — первый абзац. Круто, когда получается сказать коротко и ёмко, но можно не рисковать и просто написать суть как есть:

>   Poetry helps you declare, manage and install dependencies of Python projects, ensuring you have the right stack everywhere.

Здесь хорошо встанет картинка для привлечения внимания.

**Как пользоваться** — следующие несколько абзацев или даже заголовков. Напишите, как установить и запустить проект, приведите пару примеров. Иллюстрируйте кодом или картинками:

>   ## Installation
>
>       pip install poetry
>
>   ## Usage
>
>   To create a project with Poetry, run `poetry new`.
>
>   Switch to the created project and install dependencies with `poetry install`

**Что делать дальше** — это или документация, если она небольшая и целиком умещается в ридми, или ссылка на документацию:

>   Read more:
>   
>   -   [Tutorial →](docs/tutorial.md)
>   -   [Docs →](docs/index.md)
>   -   [Examples →](docs/examples.md)

На этом ридми можно остановить, а можно добавить необязательных, но полезных пунктов:

-   работа с возражениями,
-   как контрибутить в проект.

**Работа с возражениями** — это инструмент продаж. Людям свойственно держаться за знания, которые у них уже есть, и подвергать сомнению новую информацию. Если снять возражение у читателя с языка и сразу дать ответ, эффект будет волшебный.

Надёжные способы поработать с возражениями:

-   честное сравнение с аналогами,
-   FAQ.

**Как контрибутить** — полезная секция для опенсорсных проектов. Тут должны быть правила работы с репкой, инструкции по сборке и запуску тестов, правила оформления багов.

Примеры хороших ридми:

-   [Poetry](https://github.com/sdispater/poetry)
-   [Cliar](https://github.com/moigagoo/cliar/)


## Readme-driven development

Readme-driven development (RDD) — это неформальная методология разработки, смысл которой в том, что ридми надо писать до кода.

!!! info
    Термин я услышал на докладе на конференции Write the Docs в 2014 году ([смотреть слайды](https://oncletom.io/talks/2014/okfestival/#/)).

В древние времена был вотерфол: полгода тщательно пишут документацию, полгода разрабатывают, месяц тестируют, месяц дорабатывают. Получалась исчерпывающая документация и полностью соответствующий ей продукт, но не было гибкости.

В не такие древние времена был эджайл: тикет, две недели, готовая фича, два часа на документацию. Гибкость — на высоте, хоть каждую неделю меняй направление разработки. Но документация протухает быстрее, чем пишется.

Проблему с отставанием тестов от кода решил TDD. Кажется, и проблему с отставанием документации решит DDD — documentation-driven development. Но не тут-то было:

-   Написать исчерпывающую документацию до продукта не всегда получится.
-   Написав полную документацию, теряем гибкость в разработке.
-   Написав полную документацию, вынуждаем себя следить за ней, меняя код.

Решение — писать до кода не всю документацию, а ридми. Польза от этого не только в том, что продукт рождается сразу документированным. Если написать ридми до кода, продукт получится лучше.

Когда вы открыли редактор, чтобы создать что-то новое, в голове есть образ. Иногда чёткий, иногда мутный, но на самом деле, даже если он суперчёткий, всех деталей вы сразу не увидите: только при реализации всплывут упущенные граничные случаи и сценарии. Принимать архитектурные решения придётся на ходу, по мере всплывания кейсов. И риск того, что интерфейс приложения выйдет неконсистентными, а реализация — костыльной, возрастает.

RDD говорит: примите важные архитектурные и интерфейсные решения на берегу. Напишите ридми продукта, который хотели бы найти на Гитхабе. Напишите такие примеры использования, которые вам было бы приятно скопировать и вставить к консоль. Придумайте хитрые сценарии, которые вы бы искали в существующем продукте, напишите их решение.

Трюк в том, что:

-   оценить интерфейс легче, когда он перед глазами, чем когда он в голове,
-   переписывание текста ничего не стоит: расписать и стереть сорок вариантов интерфейса — это считанные минуты.

Будь код уже написан, менять интерфейс было бы куда болезненнее.

Имея перед глазами документацию на одну команду, вы уже знаете, как дизайнить остальные. Дизайнерские решения больше не принимаются на бегу, и вы можете сосредоточиться на реализации.


## Практика

напишите ридми к CLI-программе для заказа пиццы в интернете.
